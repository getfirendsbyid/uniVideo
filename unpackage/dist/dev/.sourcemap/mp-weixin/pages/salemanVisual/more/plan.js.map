{"version":3,"sources":["uni-app:///main.js","webpack:///D:/CRM/DevLib/trunk/src/smartCase/pages/salemanVisual/more/plan.vue?8bfd","webpack:///D:/CRM/DevLib/trunk/src/smartCase/pages/salemanVisual/more/plan.vue?79fc","webpack:///D:/CRM/DevLib/trunk/src/smartCase/pages/salemanVisual/more/plan.vue?93dc","webpack:///D:/CRM/DevLib/trunk/src/smartCase/pages/salemanVisual/more/plan.vue?6c37","uni-app:///pages/salemanVisual/more/plan.vue","webpack:///D:/CRM/DevLib/trunk/src/smartCase/pages/salemanVisual/more/plan.vue?d530","webpack:///D:/CRM/DevLib/trunk/src/smartCase/pages/salemanVisual/more/plan.vue?8177"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wG;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACc;;;AAGjE;AAC4L;AAC5L,gBAAgB,uLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,2RAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP,KAAK;AACL;AACA,aAAa,oPAEN;AACP;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC3CA;AAAA;AAAA;AAAA;AAA8tB,CAAgB,gqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC0KlvB;AACA,qF;AACA;AACA,MADA,kBACA;AACA;AACA,iBADA;AAEA;AACA,kBADA,EACA;AACA,kBAFA,EAEA;AACA,oBAHA,EAGA;AACA,wBAJA,EAIA;AACA,0BALA,EAKA;AACA,8BANA,EAMA;AACA,oBAPA,EAOA;AACA,kCARA,EAQA;AACA,mCATA,EASA;AACA,2BAVA,EAUA;AACA,4BAXA,EAWA;AACA,6BAZA,EAYA;AACA,mBAbA,EAaA;AACA;AACA,sBAfA,EAeA;AACA,oBAhBA,EAgBA;AACA;AACA,gCAlBA,EAkBA;AACA,8BAnBA,EAmBA;AACA,0BApBA,EAoBA;AACA,wBArBA,EAqBA;AACA,yBAtBA,CAsBA;AAtBA,OAFA;AA0BA,sBA1BA,EA0BA;AACA,mBA3BA,EA2BA;AACA,sBA5BA;AA6BA;AACA,qBADA,EACA;AACA,kBAFA,EAEA;AACA,oBAHA,CAGA;AAHA,OA7BA;AAkCA,sBAlCA,EAkCA;AACA,iBAnCA,EAmCA;AACA,kBApCA,EAoCA;AACA,kBArCA,EAqCA;AACA,mBAtCA,EAsCA;AACA,mBAvCA,EAuCA;AACA,oBAxCA,EAwCA;AACA,mBAzCA,EAyCA;AACA,oBA1CA,EA0CA;AACA;AACA,yBADA;AAEA,kBAFA;AAGA;AACA,wBADA;AAEA,kBAFA,EAHA,CA3CA;;AAkDA,wBAlDA;;AAoDA,GAtDA;AAuDA,SAvDA,qBAuDA;AACA;AACA,GAzDA;AA0DA,QA1DA,kBA0DA,OA1DA,EA0DA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAtEA;AAuEA;AACA;AACA,gBAFA,0BAEA;AACA;AACA;AACA;AACA,+BADA,EADA;;AAIA;AACA;AACA;AACA;AACA;AACA,OALA;AAMA,KAdA;AAeA;AACA,aAhBA,uBAgBA;AACA;AACA;AACA,4DADA,EACA;AACA,gDAFA,EAEA;AACA,8CAHA,EAGA;AACA,sDAJA,CAIA;AAJA,OADA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAPA;AAQA,KAhCA;AAiCA;AACA,WAlCA,qBAkCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCADA;AAEA,yCAFA;AAGA,mCAHA;;AAKA,WANA;AAOA;AACA,OAXA;AAYA,KAjDA;AAkDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBApEA,4BAoEA;AACA;AACA;AACA;AACA,sDADA;AAEA;AACA;AACA;AACA;AACA,8BAFA,CAEA;AACA;AACA,OARA;AASA,KAhFA;;AAkFA;AACA,gBAnFA,0BAmFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aADA,CACA,CADA,EAPA,CAQA;AACA,qFATA,CASA;AACA;AACA,OADA,EAVA,CAWA;AACA;AACA,aADA,CACA,CADA,EAZA,CAaA;AACA;AACA,aADA,CACA,CADA,EAdA,CAeA;AACA,KAnGA;AAoGA;AACA,gBArGA,0BAqGA;AACA;AACA,uBADA,IACA,CADA,EACA,OADA,CACA,CADA,EADA,CAEA;AACA,wEAHA,CAGA;AACA,KAzGA;AA0GA;AACA,YA3GA,sBA2GA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,KArHA;AAsHA;AACA,cAvHA,wBAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kDADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KAtIA;AAuIA;AACA,cAxIA,wBAwIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KApJA;AAqJA;AACA,gBAtJA,0BAsJA;AACA;AACA;AACA,mBADA;AAEA,kDAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KAjKA;;AAmKA;AACA,gBApKA,0BAoKA;AACA;AACA;AACA,mBADA;AAEA,kDAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KA/KA;;AAiLA;AACA,gBAlLA,0BAkLA;AACA;AACA;AACA,mBADA;AAEA,kDAFA;AAGA;AACA;AACA;AACA;AACA;AACA,OARA;AASA,KA7LA;AA8LA;AACA,kBA/LA,0BA+LA,GA/LA,EA+LA;AACA;AACA;AACA,KAlMA;AAmMA;AACA,WApMA,qBAoMA;AACA;AACA;AACA;AACA;AACA;AACA,4BANA,CAMA;AACA,KA3MA;AA4MA;AACA,aA7MA,qBA6MA,GA7MA,EA6MA;AACA;AACA;AACA;AACA;AACA,8BAJA,CAIA;AACA;AACA;AACA;AACA;AACA,SAJA;AAKA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA;AACA,KA/NA;AAgOA;AACA,cAjOA,sBAiOA,GAjOA,EAiOA;AACA;AACA,KAnOA;AAoOA;AACA,aArOA,qBAqOA,GArOA,EAqOA;AACA;AACA;AACA;AACA;AACA,KA1OA;AA2OA;AACA,eA5OA,uBA4OA,GA5OA,EA4OA;AACA;AACA,KA9OA;AA+OA;AACA,eAhPA,uBAgPA,GAhPA,EAgPA;AACA;AACA,KAlPA;AAmPA;AACA,cApPA,wBAoPA;AACA;AACA,aADA,CACA,CADA;AAEA,KAvPA;AAwPA;AACA,aAzPA,uBAyPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBADA,CACA,aADA,EADA;;AAIA;AACA,OARA;AASA,KAzQA,EAvEA;;AAkVA;AACA;AACA,aAFA,uBAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBADA,GACA,GADA,GACA,OADA,CACA,CADA,EALA,CAMA;AACA;AACA,yBADA,EACA,OADA,CACA,CADA,EAPA,CAQA;AACA;AACA,OAVA;AAWA,KAdA;AAeA;AACA,gBAhBA,0BAgBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BADA,GACA,GADA,EACA,OADA,CACA,CADA,EALA,CAMA;AACA;AACA,yBADA,EACA,OADA,CACA,CADA,EAPA,CAQA;AACA;AACA,OAVA;AAWA,KA5BA;AA6BA;AACA,cA9BA,wBA8BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBADA,EACA,OADA,CACA,CADA,EALA,CAMA;AACA;AACA,+BADA,GACA,GADA,EACA,OADA,CACA,CADA,EAPA,CAQA;AACA,OATA;AAUA,KAzCA;AA0CA;AACA,gBA3CA,0BA2CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBADA,CACA,oBADA,IACA,CADA,IACA;AACA,SADA,CADA,GAEA,OAFA,CAEA,CAFA,EAXA,CAaA;AACA;AACA,+BADA,GACA,GADA,EACA,OADA,CACA,CADA,EAdA,CAeA;AACA,OAhBA;AAiBA,KA7DA,EAlVA;;AAiZA;AACA,sBADA,EAjZA;;AAoZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA,GApZA,E;;;;;;;;;;;;;AC5KA;AAAA;AAAA;AAAA;AAAu0C,CAAgB,kpCAAG,EAAC,C;;;;;;;;;;;ACA31C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/salemanVisual/more/plan.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/salemanVisual/more/plan.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./plan.vue?vue&type=template&id=20d9fd04&\"\nvar renderjs\nimport script from \"./plan.vue?vue&type=script&lang=js&\"\nexport * from \"./plan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./plan.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/salemanVisual/more/plan.vue\"\nexport default component.exports","export * from \"-!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./plan.vue?vue&type=template&id=20d9fd04&\"","var components\ntry {\n  components = {\n    uInput: function() {\n      return import(\n        /* webpackChunkName: \"node-modules/uview-ui/components/u-input/u-input\" */ \"uview-ui/components/u-input/u-input.vue\"\n      )\n    },\n    ldSelect: function() {\n      return import(\n        /* webpackChunkName: \"components/ld-select/ld-select\" */ \"@/components/ld-select/ld-select.vue\"\n      )\n    },\n    uniIcons: function() {\n      return import(\n        /* webpackChunkName: \"components/uni-icons/uni-icons\" */ \"@/components/uni-icons/uni-icons.vue\"\n      )\n    }\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./plan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./plan.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"container\">\r\n\t\t<view class=\"register\">\r\n\t\t\t<view class=\"info_box\">\r\n\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t<text class=\"label\">客户</text>\r\n\t\t\t\t\t<u-input v-model=\"postData.client\" type=\"text\" placeholder=\"请输入客户\" />\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t<text class=\"label\">房间</text>\r\n\t\t\t\t\t<text>{{postData.roomCode}}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t<text class=\"label\">面积</text>\r\n\t\t\t\t\t<text>{{postData.prebuildArea}}m²</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t<text class=\"label\">单价</text>\r\n\t\t\t\t\t<text>{{postData.buildMonoPrice}}元/m²</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t<text class=\"label\">总价</text>\r\n\t\t\t\t\t<text>{{postData.standardTotalPrice}}元</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t<text class=\"label required\">付款方式</text>\r\n\t\t\t\t\t<view class=\"flexBet\">\r\n\t\t\t\t\t\t<ld-select :underlist=\"payList\" list-key=\"label\" value-key=\"value\" placeholder=\"请选择付款方式\"\r\n\t\t\t\t\t\t\tv-model=\"postData.paymentMethodId\" @change=\"selectPay\"></ld-select>\r\n\t\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"12\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<template v-if=\"discountList.length>0\">\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">折扣方式</text>\r\n\t\t\t\t\t\t<view class=\"flexBet\">\r\n\t\t\t\t\t\t\t<ld-select :underlist=\"discountList\" list-key=\"label\" value-key=\"value\"\r\n\t\t\t\t\t\t\t\tplaceholder=\"请选择折扣方式\" v-model=\"postData.discount\" :multiple=\"true\"\r\n\t\t\t\t\t\t\t\t@change=\"selectDiscount\" @confirm=\"confirm\"></ld-select>\r\n\t\t\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"12\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">折后单价</text>\r\n\t\t\t\t\t\t<text>{{postData.discountAfterMonoPrice}}元/m²</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">折后总价</text>\r\n\t\t\t\t\t\t<text>{{postData.discountAfterTotalPrice}}元</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<!-- 非全款 -->\r\n\t\t\t\t<template v-if=\"payStates && payStates!=2\">\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">首付比例(%)</text>\r\n\t\t\t\t\t\t<input v-model=\"postData.downPaymentRatio\" type=\"number\" placeholder=\"请输入首付比例\"\r\n\t\t\t\t\t\t\t@input=\"getUprice()\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">首付金额(元)</text>\r\n\t\t\t\t\t\t<input v-model=\"postData.downPaymentAmount\" type=\"number\" placeholder=\"请输入首付金额\"\r\n\t\t\t\t\t\t\t@input=\"getMoneyRate()\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">贷款年限(年)</text>\r\n\t\t\t\t\t\t<input v-model=\"postData.loanYearLimit\" type=\"number\" placeholder=\"请输入贷款年限\"\r\n\t\t\t\t\t\t\t@blur=\"isGetLpr()\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<!-- 商贷/公积金贷 -->\r\n\t\t\t\t<template v-if=\"payStates==1 || payStates==4\">\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">贷款金额(元)</text>\r\n\t\t\t\t\t\t<input v-model=\"postData.loanAmount\" type=\"number\" placeholder=\"请输入贷款金额\"\r\n\t\t\t\t\t\t\t@input=\"getDownpay()\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\" v-if=\"payStates==1\">\r\n\t\t\t\t\t\t<text class=\"label\">利率方式</text>\r\n\t\t\t\t\t\t<view class=\"flexBet\">\r\n\t\t\t\t\t\t\t<ld-select :underlist=\"lprList\" list-key=\"label\" value-key=\"value\" placeholder=\"请选择利率方式\"\r\n\t\t\t\t\t\t\t\tv-model=\"lprData.lprMethod\" @change=\"selectLpr\"></ld-select>\r\n\t\t\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"12\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<template v-if=\"lprData.lprMethod && lprData.lprMethod == 0\">\r\n\t\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t\t<text class=\"label\">最新LPR(%)</text>\r\n\t\t\t\t\t\t\t<input v-model=\"lprData.lprNew\" type=\"number\" placeholder=\"请输入最新LPR\"\r\n\t\t\t\t\t\t\t\t@input=\"getLprRate()\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t\t<text class=\"label\">加点数值(‱)</text>\r\n\t\t\t\t\t\t\t<input v-model=\"lprData.lprNumber\" type=\"number\" placeholder=\"请输入加点数值\"\r\n\t\t\t\t\t\t\t\t@input=\"getLprRate()\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t\t<text class=\"label\">LPR利率(%)</text>\r\n\t\t\t\t\t\t\t<text>{{postData.lprRate}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<view class=\"info_item\"  v-if=\"payStates==4 || lprData.lprMethod == 1\">\r\n\t\t\t\t\t\t<text class=\"label\">贷款利率</text>\r\n\t\t\t\t\t\t<view class=\"flexBet\">\r\n\t\t\t\t\t\t\t<ld-select :underlist=\"rateList\" list-key=\"label\" value-key=\"value\" placeholder=\"请选择贷款利率\"\r\n\t\t\t\t\t\t\t\tv-model=\"postData.loanRate\" @change=\"selectRate\"></ld-select>\r\n\t\t\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"12\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t\t<!-- 组合贷 -->\r\n\t\t\t\t<template v-if=\"payStates==5\">\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">商贷金额(元)</text>\r\n\t\t\t\t\t\t<input v-model=\"postData.commercialLoanAmount\" type=\"number\" placeholder=\"请输入商贷金额\"\r\n\t\t\t\t\t\t\t@input=\"getShangDown()\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">利率方式</text>\r\n\t\t\t\t\t\t<view class=\"flexBet\">\r\n\t\t\t\t\t\t\t<ld-select :underlist=\"lprList\" list-key=\"label\" value-key=\"value\" placeholder=\"请选择利率方式\"\r\n\t\t\t\t\t\t\t\tv-model=\"lprData.lprMethod\" @change=\"selectLpr\"></ld-select>\r\n\t\t\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"12\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<template v-if=\"lprData.lprMethod && lprData.lprMethod == 0\">\r\n\t\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t\t<text class=\"label\">最新LPR(%)</text>\r\n\t\t\t\t\t\t\t<input v-model=\"lprData.lprNew\" type=\"number\" placeholder=\"请输入最新LPR\"\r\n\t\t\t\t\t\t\t\t@input=\"getLprRate()\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t\t<text class=\"label\">加点数值(‱)</text>\r\n\t\t\t\t\t\t\t<input v-model=\"lprData.lprNumber\" type=\"number\" placeholder=\"请输入加点数值\"\r\n\t\t\t\t\t\t\t\t@input=\"getLprRate()\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t\t<text class=\"label\">LPR利率(%)</text>\r\n\t\t\t\t\t\t\t<text>{{postData.lprRate}}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t<view class=\"info_item\" v-else-if=\"lprData.lprMethod == 1\">\r\n\t\t\t\t\t\t<text class=\"label\">商贷利率</text>\r\n\t\t\t\t\t\t<view class=\"flexBet\">\r\n\t\t\t\t\t\t\t<ld-select :underlist=\"sRateList\" list-key=\"label\" value-key=\"value\" placeholder=\"请选择贷款利率\"\r\n\t\t\t\t\t\t\t\tv-model=\"postData.commercialLoanRate\" @change=\"selectSrate\"></ld-select>\r\n\t\t\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"12\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">公积金贷款金额(元)</text>\r\n\t\t\t\t\t\t<input v-model=\"postData.fundLoanAmount\" type=\"number\" placeholder=\"请输入商贷金额\"\r\n\t\t\t\t\t\t\t@input=\"getShangDown()\" />\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"info_item\">\r\n\t\t\t\t\t\t<text class=\"label\">公积金利率</text>\r\n\t\t\t\t\t\t<view class=\"flexBet\">\r\n\t\t\t\t\t\t\t<ld-select :underlist=\"gRateList\" list-key=\"label\" value-key=\"value\" placeholder=\"请选择公积金利率\"\r\n\t\t\t\t\t\t\t\tv-model=\"postData.fundLoanRate\" @change=\"selectGrate\"></ld-select>\r\n\t\t\t\t\t\t\t<uni-icons type=\"arrowright\" size=\"12\" color=\"#999\"></uni-icons>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</template>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"footer\" @click=\"creatPlan\">生成置业计划</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport ldSelect from '@/components/ld-select/ld-select.vue';\r\n\timport httpUtils from '@/utils/httpUtils.js';\r\n\timport Tools from '@/utils/tools.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\troomDet: {},\r\n\t\t\t\tpostData: {\r\n\t\t\t\t\troomId: '', // 房间id\r\n\t\t\t\t\tclient: '', // 客户姓名\r\n\t\t\t\t\troomCode: '', // 房间编号code\t\r\n\t\t\t\t\tprebuildArea: '', // 面积\r\n\t\t\t\t\tbuildMonoPrice: '', // 单价\r\n\t\t\t\t\tstandardTotalPrice: '', // 总价\r\n\t\t\t\t\tdiscount: [], // 折扣方式（多选）\r\n\t\t\t\t\tdiscountAfterMonoPrice: '', // 折后单价\r\n\t\t\t\t\tdiscountAfterTotalPrice: '', // 折后总价\r\n\t\t\t\t\tpaymentMethodId: '', // 付款方式（下拉）2全款 1商贷 4公积金 5组合贷\r\n\t\t\t\t\tdownPaymentRatio: '', // 首付比例\r\n\t\t\t\t\tdownPaymentAmount: '', // 首付金额\r\n\t\t\t\t\tlprRate: '', // lpr利率（商贷存在）\r\n\t\t\t\t\t// 以下是商贷和公积金贷\r\n\t\t\t\t\tloanAmount: '', // 贷款金额\r\n\t\t\t\t\tloanRate: '', // 贷款利率（下拉）\r\n\t\t\t\t\t// 以下是组合贷\r\n\t\t\t\t\tcommercialLoanAmount: '', // 商贷金额\r\n\t\t\t\t\tcommercialLoanRate: '', // 商贷利率（下拉）\r\n\t\t\t\t\tfundLoanAmount: '', // 公积金贷款金额\r\n\t\t\t\t\tfundLoanRate: '', // 公积金利率（下拉）\r\n\t\t\t\t\tloanYearLimit: 10, // 贷款年限\r\n\t\t\t\t},\r\n\t\t\t\tmaxLoanMoney: '', // 最大贷款限额\r\n\t\t\t\tpayStates: '', // 付款类型\r\n\t\t\t\tisDisabel: false,\r\n\t\t\t\tlprData: { // lpr数据\r\n\t\t\t\t\tlprMethod: '', // lpr类型\r\n\t\t\t\t\tlprNew: '', // 最新lpr\r\n\t\t\t\t\tlprNumber: 0, // 加点数值\r\n\t\t\t\t},\r\n\t\t\t\tdiscountList: [], // 折扣列表\r\n\t\t\t\tpayList: [], // 付款方式列表\r\n\t\t\t\tpayIndex: '', // 付款索引\r\n\t\t\t\trateList: [], // 贷款利率列表\r\n\t\t\t\trateIndex: '', // 贷款利率索引\r\n\t\t\t\tsRateList: [], // 商贷利率列表\r\n\t\t\t\tsRateIndex: '', // 商贷利率索引\r\n\t\t\t\tgRateList: [], // 公积金利率列表\r\n\t\t\t\tgRateIndex: '', // 公积金利率索引\r\n\t\t\t\tlprList: [{\r\n\t\t\t\t\tlabel: '按最新LPR利率',\r\n\t\t\t\t\tvalue: '0'\r\n\t\t\t\t}, {\r\n\t\t\t\t\tlabel: '按旧版基准利率',\r\n\t\t\t\t\tvalue: '1'\r\n\t\t\t\t}],\r\n\t\t\t\tfirstMoneyData: {}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonReady() {\r\n\t\t\t// this.$refs.uForm.setRules(this.rules);\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tthis.roomDet = JSON.parse(decodeURIComponent(options.roomDet))\r\n\t\t\tthis.postData.roomCode = this.roomDet.roomCode\r\n\t\t\tthis.postData.prebuildArea = this.roomDet.prebuildArea\r\n\t\t\tthis.postData.buildMonoPrice = this.roomDet.buildMonoPrice\r\n\t\t\tthis.postData.standardTotalPrice = this.roomDet.standardTotalPrice\r\n\t\t\tthis.postData.roomId = this.roomDet.id\r\n\t\t\t// 折后单价/总价默认值\r\n\t\t\tthis.postData.discountAfterMonoPrice = this.postData.buildMonoPrice\r\n\t\t\tthis.postData.discountAfterTotalPrice = this.postData.standardTotalPrice\r\n\t\t\tthis._getDiscount()\r\n\t\t\tthis._getPay()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取折扣列表\r\n\t\t\t_getDiscount() {\r\n\t\t\t\tTools.showLoading('加载中')\r\n\t\t\t\tlet that = this,\r\n\t\t\t\t\tpostData = {\r\n\t\t\t\t\t\troomId: that.roomDet.id\r\n\t\t\t\t\t}\r\n\t\t\t\thttpUtils.sendHttpRequest('2008', Object.assign({}, postData), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.discountList = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 计算折后单价\r\n\t\t\t_getPrice() {\r\n\t\t\t\tlet that = this,\r\n\t\t\t\t\tpostData = {\r\n\t\t\t\t\t\tstandardTotalPrice: that.postData.standardTotalPrice, // 总价\r\n\t\t\t\t\t\tprebuildArea: that.postData.prebuildArea, // 面积\r\n\t\t\t\t\t\tdiscountIdList: that.postData.discount, // 折扣id\r\n\t\t\t\t\t\tpaymentMethodId: that.postData.paymentMethodId, // 付款方式id\r\n\t\t\t\t\t}\r\n\t\t\t\thttpUtils.sendHttpRequest('2018', Object.assign({}, postData), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.postData.discountAfterMonoPrice = res.data.data.discountAfterMonoPrice\r\n\t\t\t\t\t\tthat.postData.discountAfterTotalPrice = res.data.data.discountAfterTotalPrice\r\n\t\t\t\t\t\t// that._getMaxMoney() // 调用获取最大贷款数\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取付款方式\r\n\t\t\t_getPay() {\r\n\t\t\t\tTools.showLoading('加载中')\r\n\t\t\t\tlet that = this;\r\n\t\t\t\thttpUtils.sendHttpRequest('2009', Object.assign({}, ''), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.payList = res.data.data.map(item => {\r\n\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\tvalue: String(item.id),\r\n\t\t\t\t\t\t\t\tlabel: String(item.payName),\r\n\t\t\t\t\t\t\t\tpayType: item.payType\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 获取贷款最大限额\r\n\t\t\t// _getMaxMoney() {\r\n\t\t\t// \tlet that = this,\r\n\t\t\t// \t\tpostData = {\r\n\t\t\t// \t\t\tpaymentMethodId: that.postData.paymentMethodId, // 付款方式id\r\n\t\t\t// \t\t\tdiscountAfterTotalPrice: that.postData.discountAfterTotalPrice, // 折后总价\r\n\t\t\t// \t\t}\r\n\t\t\t// \tTools.showLoading('加载中')\r\n\t\t\t// \thttpUtils.sendHttpRequest('2041', Object.assign({}, postData), function(res) {\r\n\t\t\t// \t\tTools.hideLoading()\r\n\t\t\t// \t\tif (res.data.code == '0') {\r\n\t\t\t// \t\t\tthat.maxLoanMoney = res.data.data\r\n\t\t\t// \t\t\tthat.postData.loanAmount = that.maxLoanMoney\r\n\t\t\t// \t\t\tthat._changeMoney() // 调用计算首付金额、首付比例\r\n\t\t\t// \t\t}\r\n\t\t\t// \t})\r\n\t\t\t// },\r\n\t\t\t// 根据付款id获取预付款信息\r\n\t\t\t_getFirstMoney() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\tTools.showLoading('加载中')\r\n\t\t\t\thttpUtils.sendHttpRequest('2045', Object.assign({}, {\r\n\t\t\t\t\tpaymentMethodId: that.postData.paymentMethodId\r\n\t\t\t\t}), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.firstMoneyData = res.data.data\r\n\t\t\t\t\t\tthat._changeMoney() // 选择付款方式、更改首付比例、首付金额、贷款金额、公积金金额\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 调用付款方式、更改首付比例、首付金额、贷款金额、公积金金额\r\n\t\t\t_changeMoney() {\r\n\t\t\t\t// if (this.postData.loanAmount > this.postData.discountAfterTotalPrice) {\r\n\t\t\t\t// \tTools.showErrorToast('贷款金额不能大于折后总价')\r\n\t\t\t\t// \tthis.postData.loanAmount = this.postData.discountAfterTotalPrice\r\n\t\t\t\t// }\r\n\t\t\t\t// this.postData.downPaymentAmount = (this.postData.discountAfterTotalPrice - this.postData.loanAmount).toFixed(2) // 首付金额（折后总价-贷款金额）\r\n\t\t\t\t// this.postData.downPaymentRatio = (this.postData.downPaymentAmount / this.postData.discountAfterTotalPrice * 100).toFixed(2) // 首付比例（首付金额/折后总价）\r\n\t\t\t\tthis.postData.downPaymentAmount = (this.postData.discountAfterTotalPrice * this.firstMoneyData.ped_sq)\r\n\t\t\t\t\t.toFixed(2) // 首付金额（折后总价*ped_sq）\r\n\t\t\t\tthis.postData.downPaymentRatio = (100 * this.firstMoneyData.ped_sq).toFixed(2) // 首付比例（100*ped_sq）\r\n\t\t\t\tthis.postData.loanAmount = (this.postData.discountAfterTotalPrice * this.firstMoneyData.ped_yhaj).toFixed(\r\n\t\t\t\t\t2) // 贷款金额（折后总价*ped_yhaj）\r\n\t\t\t\tthis.postData.commercialLoanAmount = (this.postData.discountAfterTotalPrice * this.firstMoneyData.ped_yhaj)\r\n\t\t\t\t\t.toFixed(2) // 商贷金额（折后总价*ped_yhaj）\r\n\t\t\t\tthis.postData.fundLoanAmount = (this.postData.discountAfterTotalPrice * this.firstMoneyData.ped_gjjaj)\r\n\t\t\t\t\t.toFixed(2) // 公积金金额（折后总价*ped_gjjaj）\r\n\t\t\t},\r\n\t\t\t// 修改首付金额、首付比例后更改公积金/商贷金额\r\n\t\t\t_changeShang() {\r\n\t\t\t\tthis.postData.commercialLoanAmount = ((this.postData.discountAfterTotalPrice - this.postData\r\n\t\t\t\t\t.downPaymentAmount) / 2).toFixed(2) // 商贷金额（折后总价-首付金额/2）\r\n\t\t\t\tthis.postData.fundLoanAmount = this.postData.commercialLoanAmount // 公积金金额（折后总价-首付金额/2）\r\n\t\t\t},\r\n\t\t\t// 年限为商贷时 调用getLprData\r\n\t\t\tisGetLpr() {\r\n\t\t\t\tif (this.payStates == 1 && this.lprData.lprMethod == 0 && this.postData.loanYearLimit) {\r\n\t\t\t\t\tthis.getLprData()\r\n\t\t\t\t}\r\n\t\t\t\tif (this.payStates == 5) {\r\n\t\t\t\t\tthis._getSrteList()\r\n\t\t\t\t\tthis._getGrteList()\r\n\t\t\t\t} else if (this.payStates == 1 || this.payStates == 4) {\r\n\t\t\t\t\tthis._getRateList()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 获取lpr最新值\r\n\t\t\tgetLprData() {\r\n\t\t\t\tif (!this.postData.loanYearLimit) {\r\n\t\t\t\t\tTools.showErrorToast('请输入贷款年限')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tlet that = this\r\n\t\t\t\thttpUtils.sendHttpRequest('2042', Object.assign({}, {\r\n\t\t\t\t\tloanYearLimit: that.postData.loanYearLimit\r\n\t\t\t\t}), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.lprData.lprNew = res.data.data\r\n\t\t\t\t\t\tthat.postData.lprRate = that.lprData.lprNew + that.lprData.lprNumber * 0.01\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 更改付款方式其他数据置空\r\n\t\t\t_cleanForm() {\r\n\t\t\t\tthis.postData.discount = []\r\n\t\t\t\tthis.postData.discountAfterMonoPrice = 0\r\n\t\t\t\tthis.postData.discountAfterTotalPrice = 0\r\n\t\t\t\tthis.postData.downPaymentRatio = ''\r\n\t\t\t\tthis.postData.loanAmount = ''\r\n\t\t\t\tthis.postData.loanRate = ''\r\n\t\t\t\tthis.postData.commercialLoanAmount = ''\r\n\t\t\t\tthis.postData.commercialLoanRate = ''\r\n\t\t\t\tthis.postData.fundLoanAmount = ''\r\n\t\t\t\tthis.postData.fundLoanRate = ''\r\n\t\t\t\tthis.postData.loanYearLimit = ''\r\n\t\t\t},\r\n\t\t\t// 获取贷款利率列表\r\n\t\t\t_getRateList() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\thttpUtils.sendHttpRequest('2019', Object.assign({}, {\r\n\t\t\t\t\tloanType: 1,\r\n\t\t\t\t\tloanYearLimit: that.postData.loanYearLimit\r\n\t\t\t\t}), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.rateList = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取商贷利率列表\r\n\t\t\t_getSrteList() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\thttpUtils.sendHttpRequest('2019', Object.assign({}, {\r\n\t\t\t\t\tloanType: 2,\r\n\t\t\t\t\tloanYearLimit: that.postData.loanYearLimit\r\n\t\t\t\t}), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.sRateList = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取公积金利率列表\r\n\t\t\t_getGrteList() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\thttpUtils.sendHttpRequest('2019', Object.assign({}, {\r\n\t\t\t\t\tloanType: 3,\r\n\t\t\t\t\tloanYearLimit: that.postData.loanYearLimit\r\n\t\t\t\t}), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tthat.gRateList = res.data.data\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// 折扣方式选择\r\n\t\t\tselectDiscount(val) {\r\n\t\t\t\tthis.postData.discount = val\r\n\t\t\t\t// this._cleanForm()\r\n\t\t\t},\r\n\t\t\t// 确定选择折扣方式\r\n\t\t\tconfirm() {\r\n\t\t\t\tif (!this.postData.paymentMethodId) {\r\n\t\t\t\t\tTools.showErrorToast('请选择付款方式')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tthis._getPrice()\r\n\t\t\t\tthis._getFirstMoney() // 获取最初首付比例、首付金额、贷款金额\r\n\t\t\t},\r\n\t\t\t// 付款方式选择\r\n\t\t\tselectPay(val) {\r\n\t\t\t\tif (val) {\r\n\t\t\t\t\tthis.postData.paymentMethodId = val\r\n\t\t\t\t\t// this._cleanForm()\r\n\t\t\t\t\tthis._getPrice()\r\n\t\t\t\t\tthis._getFirstMoney() // 获取最初首付比例、首付金额、贷款金额\r\n\t\t\t\t\tthis.payList.forEach((item, index) => {\r\n\t\t\t\t\t\tif (val === item.value) {\r\n\t\t\t\t\t\t\tthis.payStates = item.payType\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (this.payStates == 5) {\r\n\t\t\t\t\t\tthis._getSrteList()\r\n\t\t\t\t\t\tthis._getGrteList()\r\n\t\t\t\t\t} else if (this.payStates == 1 || this.payStates == 4) {\r\n\t\t\t\t\t\tthis._getRateList()\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 贷款利率\r\n\t\t\tselectRate(val) {\r\n\t\t\t\tthis.postData.loanRate = val\r\n\t\t\t},\r\n\t\t\t// lpr利率\r\n\t\t\tselectLpr(val) {\r\n\t\t\t\tthis.lprData.lprMethod = val\r\n\t\t\t\tif (val == 0) {\r\n\t\t\t\t\tthis.getLprData()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 商贷利率\r\n\t\t\tselectSrate(val) {\r\n\t\t\t\tthis.postData.commercialLoanRate = val\r\n\t\t\t},\r\n\t\t\t// 公积金利率\r\n\t\t\tselectGrate(val) {\r\n\t\t\t\tthis.postData.fundLoanRate = val\r\n\t\t\t},\r\n\t\t\t// 输入最新lpr、加点数值得到lpr利率\r\n\t\t\tgetLprRate() {\r\n\t\t\t\tthis.postData.lprRate = (parseFloat(this.lprData.lprNew) + parseFloat(this.lprData.lprNumber * 0.01))\r\n\t\t\t\t\t.toFixed(2)\r\n\t\t\t},\r\n\t\t\t// 确定\r\n\t\t\tcreatPlan() {\r\n\t\t\t\tif (!this.postData.paymentMethodId) {\r\n\t\t\t\t\tTools.showErrorToast('请选择付款方式')\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\t\t\t\tTools.showLoading('生成中')\r\n\t\t\t\tlet that = this;\r\n\t\t\t\thttpUtils.sendHttpRequest('2010', Object.assign({}, that.postData), function(res) {\r\n\t\t\t\t\tTools.hideLoading()\r\n\t\t\t\t\tif (res.data.code == '0') {\r\n\t\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\t\turl: '/pages/salemanVisual/more/planDet?resData=' + encodeURIComponent(JSON\r\n\t\t\t\t\t\t\t\t.stringify(res.data.data))\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 输入首付比例 得到首付金额/贷款金额\r\n\t\t\tgetUprice() {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\tif (this.postData.downPaymentRatio > 100) {\r\n\t\t\t\t\t\tTools.showErrorToast('首付比例不能大于100%')\r\n\t\t\t\t\t\tthis.postData.downPaymentRatio = 100\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.postData.downPaymentAmount = (this.postData.discountAfterTotalPrice * (this.postData\r\n\t\t\t\t\t\t.downPaymentRatio / 100)).toFixed(2) // 首付金额（折后总价*首付比例）\r\n\t\t\t\t\tthis.postData.loanAmount = (this.postData.discountAfterTotalPrice - this.postData\r\n\t\t\t\t\t\t.downPaymentAmount).toFixed(2) // 贷款金额（折后总价-首付金额）\r\n\t\t\t\t\tthis._changeShang()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 输入首付金额 得到首付比例/贷款金额\r\n\t\t\tgetMoneyRate() {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\tif (this.postData.downPaymentAmount > this.postData.discountAfterTotalPrice) {\r\n\t\t\t\t\t\tTools.showErrorToast('首付金额不能大于折后总价')\r\n\t\t\t\t\t\tthis.postData.downPaymentAmount = this.postData.discountAfterTotalPrice\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.postData.downPaymentRatio = (this.postData.downPaymentAmount / this.postData\r\n\t\t\t\t\t\t.discountAfterTotalPrice * 100).toFixed(2) // 首付比例（首付金额/折后总价）\r\n\t\t\t\t\tthis.postData.loanAmount = (this.postData.discountAfterTotalPrice - this.postData\r\n\t\t\t\t\t\t.downPaymentAmount).toFixed(2) // 贷款金额（折后总价-首付金额）\r\n\t\t\t\t\tthis._changeShang()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 输入贷款金额 得到首付金额/首付比例\r\n\t\t\tgetDownpay() {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\tif (this.postData.loanAmount > this.postData.discountAfterTotalPrice) {\r\n\t\t\t\t\t\tTools.showErrorToast('贷款金额不能大于折后总价')\r\n\t\t\t\t\t\tthis.postData.loanAmount = this.postData.discountAfterTotalPrice\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.postData.downPaymentAmount = (this.postData.discountAfterTotalPrice - this.postData\r\n\t\t\t\t\t\t.loanAmount).toFixed(2) // 首付金额（折后总价-贷款金额）\r\n\t\t\t\t\tthis.postData.downPaymentRatio = (this.postData.downPaymentAmount / this.postData\r\n\t\t\t\t\t\t.discountAfterTotalPrice * 100).toFixed(2) // 首付比例（首付金额/折后总价）\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// 输入商贷/公积金贷款金额 得到首付金额\r\n\t\t\tgetShangDown() {\r\n\t\t\t\treturn function() {\r\n\t\t\t\t\tif (this.postData.commercialLoanAmount > this.postData.discountAfterTotalPrice) {\r\n\t\t\t\t\t\tTools.showErrorToast('商贷金额不能大于折后总价')\r\n\t\t\t\t\t\tthis.postData.commercialLoanAmount = this.postData.discountAfterTotalPrice\r\n\t\t\t\t\t\tthis.postData.fundLoanAmount = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (this.postData.fundLoanAmount > this.postData.discountAfterTotalPrice) {\r\n\t\t\t\t\t\tTools.showErrorToast('公积金金额不能大于折后总价')\r\n\t\t\t\t\t\tthis.postData.fundLoanAmount = this.postData.discountAfterTotalPrice\r\n\t\t\t\t\t\tthis.postData.commercialLoanAmount = 0\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.postData.downPaymentAmount = (this.postData.discountAfterTotalPrice - (parseFloat(this\r\n\t\t\t\t\t\t.postData.commercialLoanAmount || 0) + parseFloat(this.postData.fundLoanAmount ||\r\n\t\t\t\t\t\t0))).toFixed(2) // 首付金额（折后总价-（商贷+公积金贷款金额））\r\n\t\t\t\t\tthis.postData.downPaymentRatio = (this.postData.downPaymentAmount / this.postData\r\n\t\t\t\t\t\t.discountAfterTotalPrice * 100).toFixed(2) // 首付比例（首付金额/折后总价）\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tldSelect\r\n\t\t},\r\n\t\twatch: {\r\n\t\t\t// getUprice() { // 得到贷款金额\r\n\t\t\t// console.log('进来了没')\r\n\t\t\t// \treturn function() {\r\n\t\t\t// \t\tthis.postData.loanAmount = ((100 - this.postData.downPaymentRatio) * 0.01 * this.postData.discountAfterTotalPrice).toFixed(2)\r\n\t\t\t// \t}\r\n\t\t\t// \tconsole.log(this.postData.loanAmount)\r\n\t\t\t// },\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\t@import '@/styles/form.scss';\r\n\r\n\t.container {\r\n\t\t.register{\r\n\t\t\t.info_box{\r\n\t\t\t\t.info_item{\r\n\t\t\t\t\t.label{\r\n\t\t\t\t\t\tmin-width: 250rpx;\r\n\t\t\t\t\t\twidth: 250rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}   \r\n\t}\r\n</style>\n","import mod from \"-!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./plan.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../../../软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./plan.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1618969432349\n      var cssReload = require(\"D:/软件/HBuilderX/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}